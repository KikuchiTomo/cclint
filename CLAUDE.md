# Claude Code é–‹ç™ºã‚¬ã‚¤ãƒ‰

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Claude Codeã‚’ä½¿ç”¨ã—ã¦cclintãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ç™ºã™ã‚‹éš›ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã™ã€‚

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: cclint - Customizable C++ Linter
**é–‹ç™ºè¨€èª**: C++17
**å¯¾è±¡ç’°å¢ƒ**: Ubuntu 20.04+, macOS 11+
**é–‹ç™ºä½“åˆ¶**: Claude Codeæ”¯æ´ã«ã‚ˆã‚‹é–‹ç™º

## é‡è¦ãªåŸå‰‡

### 1. TODOãƒªã‚¹ãƒˆã®ç®¡ç†ï¼ˆæœ€é‡è¦ï¼‰

**docs/TODO.md** ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ç®¡ç†ã®ä¸­å¿ƒã§ã™ã€‚ã™ã¹ã¦ã®ä½œæ¥­ã¯TODOãƒªã‚¹ãƒˆã«åŸºã¥ã„ã¦è¡Œã„ã¾ã™ã€‚
åŒæ™‚ã«è¤‡æ•°ä½œæ¥­ã—ãŸã„å ´åˆã¯ãƒ–ãƒ©ãƒ³ãƒã¨worktreeã‚’æ´»ç”¨ã—ã¾ã—ã‚‡ã†ï¼ã¾ãŸã¡ã‚‡ã£ã¨ã—ãŸä½œæ¥­ã‚„èª¿æŸ»ï¼Œé–‹ç™ºã«ã¯subagentã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„

#### ä½œæ¥­é–‹å§‹å‰ã®å¿…é ˆæ‰‹é †

```
1. docs/TODO.mdã‚’é–‹ã„ã¦ç¢ºèªã™ã‚‹
2. ä½œæ¥­ã™ã‚‹ã‚¿ã‚¹ã‚¯ã‚’è¦‹ã¤ã‘ã‚‹
3. ã‚¿ã‚¹ã‚¯ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ [ ] ã‹ã‚‰ [>] ã«å¤‰æ›´ã™ã‚‹
4. ä¾å­˜é–¢ä¿‚ã‚’ç¢ºèªã™ã‚‹
5. ä½œæ¥­ã‚’é–‹å§‹ã™ã‚‹
```

#### ä½œæ¥­ä¸­ã®æ‰‹é †

```
1. æ–°ã—ã„ã‚¿ã‚¹ã‚¯ãŒè¦‹ã¤ã‹ã£ãŸã‚‰TODO.mdã«è¿½åŠ ã™ã‚‹
2. ãƒ–ãƒ­ãƒƒã‚¯äº‹é …ãŒã‚ã‚Œã° [!] ã«ã—ã¦ç†ç”±ã‚’è¨˜è¼‰ã™ã‚‹
3. é€²æ—ã‚’ã“ã¾ã‚ã«TODO.mdã«åæ˜ ã™ã‚‹
4. é–¢é€£ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚ä½µã›ã¦æ›´æ–°ã™ã‚‹
```

#### ä½œæ¥­å®Œäº†å¾Œã®å¿…é ˆæ‰‹é †

```
1. ã‚¿ã‚¹ã‚¯ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ [>] ã‹ã‚‰ [x] ã«å¤‰æ›´ã™ã‚‹
2. å®Ÿè£…ã—ãŸã‚³ãƒ¼ãƒ‰ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹
3. é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°ã™ã‚‹
4. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆã™ã‚‹
5. TODO.mdã®å¤‰æ›´ã‚‚ã‚³ãƒŸãƒƒãƒˆã«å«ã‚ã‚‹
```

#### TODOã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®æ„å‘³

- `[ ]` æœªç€æ‰‹
- `[>]` ä½œæ¥­ä¸­ï¼ˆå¿…ãš1ã¤ã®ã‚¿ã‚¹ã‚¯ã®ã¿ä½œæ¥­ä¸­ã«ã™ã‚‹ï¼‰
- `[x]` å®Œäº†
- `[!]` ãƒ–ãƒ­ãƒƒã‚¯ä¸­ï¼ˆä¾å­˜é–¢ä¿‚å¾…ã¡ã€å•é¡Œç™ºç”Ÿãªã©ï¼‰
- `[~]` ä¿ç•™

### 2. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé§†å‹•é–‹ç™º

å®Ÿè£…å‰ã«å¿…ãšãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

1. **requirements.md**: ä½•ã‚’ä½œã‚‹ã¹ãã‹
2. **design.md**: ã©ã†è¨­è¨ˆã™ã‚‹ã‹
3. **detailed_design.md**: å…·ä½“çš„ã«ã©ã†å®Ÿè£…ã™ã‚‹ã‹
4. **TODO.md**: ä»Šä½•ã‚’ã™ã¹ãã‹

å®Ÿè£…å¾Œã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨å®Ÿè£…ãŒä¹–é›¢ã—ãŸå ´åˆã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚

### 3. ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼ˆæ¨å¥¨ï¼‰

æ–°ã—ã„æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹éš›ã¯ï¼š

1. ãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ãï¼ˆtests/ä»¥ä¸‹ï¼‰
2. ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
3. å®Ÿè£…ã™ã‚‹
4. ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
5. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
cclint/
â”œâ”€â”€ docs/                       # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ requirements.md         # è¦ä»¶å®šç¾©
â”‚   â”œâ”€â”€ design.md               # è¨­è¨ˆæ›¸
â”‚   â”œâ”€â”€ detailed_design.md      # è©³ç´°è¨­è¨ˆ
â”‚   â”œâ”€â”€ milestones.md           # ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³
â”‚   â””â”€â”€ TODO.md                 # TODOãƒªã‚¹ãƒˆï¼ˆæœ€é‡è¦ï¼ï¼‰
â”œâ”€â”€ src/                        # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ main.cpp                # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ cli/                    # ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³è§£æ
â”‚   â”œâ”€â”€ config/                 # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†
â”‚   â”œâ”€â”€ compiler/               # ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ©ãƒƒãƒ‘ãƒ¼
â”‚   â”œâ”€â”€ parser/                 # C++ãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆClangçµ±åˆï¼‰
â”‚   â”œâ”€â”€ rules/                  # ãƒ«ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”‚   â””â”€â”€ builtin/            # çµ„ã¿è¾¼ã¿ãƒ«ãƒ¼ãƒ«
â”‚   â”œâ”€â”€ lua/                    # LuaJITçµ±åˆ
â”‚   â”œâ”€â”€ engine/                 # è§£æã‚¨ãƒ³ã‚¸ãƒ³
â”‚   â”œâ”€â”€ diagnostic/             # è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ output/                 # å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
â”‚   â””â”€â”€ util/                   # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ tests/                      # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ unit/                   # å˜ä½“ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ integration/            # çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ samples/                # ãƒ†ã‚¹ãƒˆç”¨ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰
â”œâ”€â”€ examples/                   # ã‚µãƒ³ãƒ—ãƒ«ãƒ»ä¾‹
â”‚   â”œâ”€â”€ configs/                # YAMLè¨­å®šä¾‹
â”‚   â”œâ”€â”€ rules/                  # Luaãƒ«ãƒ¼ãƒ«ä¾‹
â”‚   â””â”€â”€ ci/                     # CI/CDçµ±åˆä¾‹
â”œâ”€â”€ third_party/                # ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â””â”€â”€ luajit/                 # LuaJITï¼ˆã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰
â”œâ”€â”€ CMakeLists.txt              # ãƒ“ãƒ«ãƒ‰è¨­å®š
â”œâ”€â”€ README.md                   # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
â””â”€â”€ CLAUDE.md                   # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### C++ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ã‚¿ã‚¤ãƒ«

#### å‘½åè¦å‰‡

```cpp
// ã‚¯ãƒ©ã‚¹å: PascalCase
class ArgumentParser { };

// é–¢æ•°å: snake_case
void parse_arguments() { }

// å¤‰æ•°å: snake_case
int file_count = 0;

// å®šæ•°: UPPER_CASE
const int MAX_ERRORS = 100;

// ãƒ¡ãƒ³ãƒå¤‰æ•°: æœ«å°¾ã«ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢
class Config {
private:
    std::string version_;
    int max_errors_;
};

// åå‰ç©ºé–“: snake_case
namespace config {
namespace detail {
}
}
```

#### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```cpp
// example.hpp
#pragma once

#include <standard_library>  // æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

#include <third_party>       // ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£

#include "project_header.hpp" // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ˜ãƒƒãƒ€ãƒ¼

namespace cclint {
namespace module_name {

class ClassName {
public:
    // ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰

private:
    // ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ¡ã‚½ãƒƒãƒ‰
    // ãƒ¡ãƒ³ãƒå¤‰æ•°
};

} // namespace module_name
} // namespace cclint
```

#### ã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ‰ã‚¬ãƒ¼ãƒ‰

```cpp
// å¸¸ã« #pragma once ã‚’ä½¿ç”¨
#pragma once

// å¾“æ¥ã® #ifndef/#define ã¯ä½¿ã‚ãªã„
```

#### ã‚³ãƒ¡ãƒ³ãƒˆ

```cpp
// è‰¯ã„ã‚³ãƒ¡ãƒ³ãƒˆ: ãªãœãã†ã™ã‚‹ã‹ã‚’èª¬æ˜
// Parse the configuration file to extract rule definitions
// We use yaml-cpp here because it provides better error messages
// than other YAML parsers.
auto config = yaml_parser.parse(file_path);

// æ‚ªã„ã‚³ãƒ¡ãƒ³ãƒˆ: ã‚³ãƒ¼ãƒ‰ã‚’ç¹°ã‚Šè¿”ã™ã ã‘
// Parse the config file
auto config = yaml_parser.parse(file_path);

// é–¢æ•°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
/// Parses a C++ source file and builds an AST.
///
/// @param source_file Path to the source file to parse
/// @param compiler_flags Compiler flags to use during parsing
/// @return Unique pointer to the parsed ASTUnit
/// @throws std::runtime_error if parsing fails
std::unique_ptr<clang::ASTUnit> parse(
    const std::string& source_file,
    const std::vector<std::string>& compiler_flags);
```

### ãƒ¢ãƒ€ãƒ³C++ã®ä½¿ç”¨

#### ã‚¹ãƒãƒ¼ãƒˆãƒã‚¤ãƒ³ã‚¿

```cpp
// ç”Ÿãƒã‚¤ãƒ³ã‚¿ã¯ä½¿ã‚ãªã„
Rule* rule = new Rule();  // âŒ

// ã‚¹ãƒãƒ¼ãƒˆãƒã‚¤ãƒ³ã‚¿ã‚’ä½¿ã†
auto rule = std::make_unique<Rule>();  // âœ…

// æ‰€æœ‰æ¨©ã‚’ç§»è­²ã™ã‚‹å ´åˆ
registry.register_rule(std::move(rule));  // âœ…
```

#### ç¯„å›²ãƒ™ãƒ¼ã‚¹for

```cpp
// ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯ä½¿ã‚ãªã„
for (auto it = vec.begin(); it != vec.end(); ++it) {  // âŒ
    process(*it);
}

// ç¯„å›²ãƒ™ãƒ¼ã‚¹forã‚’ä½¿ã†
for (const auto& item : vec) {  // âœ…
    process(item);
}
```

#### auto ã®ä½¿ç”¨

```cpp
// å‹ãŒæ˜ç™½ãªå ´åˆã¯ auto ã‚’ä½¿ã†
auto parser = std::make_unique<ClangParser>();  // âœ…
auto count = diagnostics.size();  // âœ…

// å‹ãŒä¸æ˜ç­ãªå ´åˆã¯æ˜ç¤ºçš„ã«
Config config = load_config();  // âœ…ï¼ˆConfigãŒä½•ã‹ã‚ã‹ã‚‹ï¼‰
```

#### const ã®ä½¿ç”¨

```cpp
// å¤‰æ›´ã—ãªã„å¤‰æ•°ã¯ const
const auto max_errors = config.max_errors;

// å¤‰æ›´ã—ãªã„å‚ç…§ã¯ const &
void process(const std::vector<Diagnostic>& diagnostics);

// å¤‰æ›´ã™ã‚‹å‚ç…§ã¯ &
void modify(std::vector<Diagnostic>& diagnostics);

// ç§»å‹•ã™ã‚‹å ´åˆã¯ &&
void take_ownership(std::unique_ptr<Rule>&& rule);
```

## ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆ

### ãƒ“ãƒ«ãƒ‰

```bash
# ãƒ‡ãƒãƒƒã‚°ãƒ“ãƒ«ãƒ‰
mkdir build && cd build
cmake -DCMAKE_BUILD_TYPE=Debug ..
make -j$(nproc)

# ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰
mkdir build-release && cd build-release
cmake -DCMAKE_BUILD_TYPE=Release ..
make -j$(nproc)
```

### ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ

```bash
# ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
cd build
ctest

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
./tests/cli_test

# ãƒ†ã‚¹ãƒˆã‚’è©³ç´°ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
ctest --verbose
```

### é™çš„è§£æ

```bash
# clang-tidy
clang-tidy src/**/*.cpp -- -std=c++17 -I include

# cppcheck
cppcheck --enable=all --std=c++17 src/
```

## Git ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥

- `main`: å®‰å®šç‰ˆ
- `develop`: é–‹ç™ºä¸­
- `feature/feature-name`: æ©Ÿèƒ½é–‹ç™º
- `fix/bug-description`: ãƒã‚°ä¿®æ­£

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

```
[ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç•ªå·] ç°¡æ½”ãªã‚¿ã‚¤ãƒˆãƒ«ï¼ˆ50æ–‡å­—ä»¥å†…ï¼‰

è©³ç´°ãªèª¬æ˜ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
- ä½•ã‚’å¤‰æ›´ã—ãŸã‹
- ãªãœå¤‰æ›´ã—ãŸã‹
- å½±éŸ¿ç¯„å›²

Closes #issueç•ªå·
```

ä¾‹ï¼š
```
[M1] Implement ArgumentParser for CLI

- Added ArgumentParser class to parse command-line arguments
- Implemented support for --config, --format, --verbose options
- Added help message generation
- Updated TODO.md to mark tasks as completed

Closes #3
```

### ã‚³ãƒŸãƒƒãƒˆå‰ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ã‚³ãƒ¼ãƒ‰ãŒãƒ“ãƒ«ãƒ‰ã§ãã‚‹
- [ ] æ–°ã—ã„ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã—ãŸï¼ˆæ©Ÿèƒ½è¿½åŠ ã®å ´åˆï¼‰
- [ ] ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒé€šã‚‹
- [ ] TODO.mdã‚’æ›´æ–°ã—ãŸ
- [ ] é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°ã—ãŸ
- [ ] ã‚³ãƒ¼ãƒ‰ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ãŸï¼ˆclang-formatï¼‰
- [ ] é™çš„è§£æã‚’å®Ÿè¡Œã—ãŸï¼ˆè­¦å‘ŠãŒãªã„ï¼‰

## ãƒ‡ãƒãƒƒã‚°

### ãƒ‡ãƒãƒƒã‚°ãƒ“ãƒ«ãƒ‰

```bash
# ãƒ‡ãƒãƒƒã‚°ã‚·ãƒ³ãƒœãƒ«ä»˜ãã§ãƒ“ãƒ«ãƒ‰
cmake -DCMAKE_BUILD_TYPE=Debug ..
make

# gdbã§å®Ÿè¡Œ
gdb ./cclint
(gdb) run --config=test.yaml g++ test.cpp
```

### ãƒ­ã‚°å‡ºåŠ›

```cpp
#include "util/logger.hpp"

// ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«: ERROR, WARNING, INFO, DEBUG
LOG_DEBUG("Parsing file: " << file_path);
LOG_INFO("Found " << count << " diagnostics");
LOG_WARNING("Configuration file not found, using defaults");
LOG_ERROR("Failed to parse: " << error_message);
```

### ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯æ¤œæŸ»

```bash
# valgrindã§ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã‚’ãƒã‚§ãƒƒã‚¯
valgrind --leak-check=full --show-leak-kinds=all ./cclint g++ test.cpp
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°

```bash
# gperfã§ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«
g++ -pg -O2 ...
./cclint g++ test.cpp
gprof ./cclint gmon.out > profile.txt

# perfã§ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆLinuxï¼‰
perf record ./cclint g++ test.cpp
perf report
```

### æœ€é©åŒ–ã®ãƒ’ãƒ³ãƒˆ

1. **ä¸è¦ãªã‚³ãƒ”ãƒ¼ã‚’é¿ã‘ã‚‹**: move semanticsã‚’ä½¿ã†
2. **constå‚ç…§ã‚’ä½¿ã†**: å¤§ããªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯å‚ç…§æ¸¡ã—
3. **ä¸¦åˆ—å‡¦ç†**: ç‹¬ç«‹ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¸¦åˆ—è§£æ
4. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: ãƒ‘ãƒ¼ã‚¹çµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥
5. **æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³**: ä¸è¦ãªå‡¦ç†ã¯ã‚¹ã‚­ãƒƒãƒ—

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

#### LLVM/ClangãŒè¦‹ã¤ã‹ã‚‰ãªã„

```bash
# Ubuntu
sudo apt install llvm-14-dev libclang-14-dev

# macOS
brew install llvm

# CMakeã«ãƒ‘ã‚¹ã‚’æŒ‡å®š
cmake -DLLVM_DIR=/usr/lib/llvm-14/cmake ..
```

#### yaml-cppãŒè¦‹ã¤ã‹ã‚‰ãªã„

```bash
# Ubuntu
sudo apt install libyaml-cpp-dev

# macOS
brew install yaml-cpp
```

### ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼

#### ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚©ãƒ«ãƒˆ

```bash
# gdbã§ãƒãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’å–å¾—
gdb ./cclint
(gdb) run --config=test.yaml g++ test.cpp
# ã‚¯ãƒ©ãƒƒã‚·ãƒ¥å¾Œ
(gdb) backtrace
```

#### LuaJITã‚¨ãƒ©ãƒ¼

```bash
# Luaã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ‡ãƒãƒƒã‚°
cclint --verbose --lua=debug_rule.lua g++ test.cpp
```

## ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã”ã¨ã®é‡ç‚¹äº‹é …

### Milestone 1: MVP
- **é‡ç‚¹**: åŸºæœ¬çš„ãªå‹•ä½œã‚’å®Ÿç¾ã™ã‚‹
- **æ³¨æ„**: å®Œç’§ã‚’ç›®æŒ‡ã•ãšã€å‹•ãã‚‚ã®ã‚’ä½œã‚‹
- **ãƒ†ã‚¹ãƒˆ**: æ‰‹å‹•ãƒ†ã‚¹ãƒˆã§ååˆ†

### Milestone 2: ãƒ«ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ 
- **é‡ç‚¹**: æ‹¡å¼µå¯èƒ½ãªè¨­è¨ˆ
- **æ³¨æ„**: ãƒ«ãƒ¼ãƒ«è¿½åŠ ãŒç°¡å˜ã«ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
- **ãƒ†ã‚¹ãƒˆ**: ãƒ«ãƒ¼ãƒ«ã”ã¨ã«å˜ä½“ãƒ†ã‚¹ãƒˆå¿…é ˆ

### Milestone 3: LuaJITçµ±åˆ
- **é‡ç‚¹**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **æ³¨æ„**: ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ã‚’å³æ ¼ã«
- **ãƒ†ã‚¹ãƒˆ**: Luaã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å¿µå…¥ã‚Šã«

### Milestone 4: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **é‡ç‚¹**: æ¸¬å®šå¯èƒ½ãªé«˜é€ŸåŒ–
- **æ³¨æ„**: æœ€é©åŒ–å‰ã«ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«
- **ãƒ†ã‚¹ãƒˆ**: ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’ä½œæˆ

### Milestone 5: ãƒ„ãƒ¼ãƒ«çµ±åˆ
- **é‡ç‚¹**: ä»–ãƒ„ãƒ¼ãƒ«ã¨ã®é€£æº
- **æ³¨æ„**: æ¨™æº–çš„ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¾“ã†
- **ãƒ†ã‚¹ãƒˆ**: CIç’°å¢ƒã§å®Ÿéš›ã«å‹•ä½œç¢ºèª

### Milestone 6: ãƒªãƒªãƒ¼ã‚¹æº–å‚™
- **é‡ç‚¹**: å“è³ªã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- **æ³¨æ„**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç›®ç·šã§è€ƒãˆã‚‹
- **ãƒ†ã‚¹ãƒˆ**: ã™ã¹ã¦ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ç¢ºèª

## ã‚ˆãã‚ã‚‹è³ªå•ï¼ˆFAQï¼‰

### Q: æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸã„å ´åˆã¯ï¼Ÿ

1. TODO.mdã«æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ 
2. å¿…è¦ã«å¿œã˜ã¦design.mdã‚’æ›´æ–°
3. ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
4. å®Ÿè£…ã™ã‚‹
5. TODO.mdã‚’æ›´æ–°

### Q: ãƒã‚°ã‚’è¦‹ã¤ã‘ãŸå ´åˆã¯ï¼Ÿ

1. å†ç¾æ‰‹é †ã‚’ç¢ºèª
2. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ ï¼ˆãƒã‚°ã‚’å†ç¾ã™ã‚‹ãƒ†ã‚¹ãƒˆï¼‰
3. ä¿®æ­£ã™ã‚‹
4. ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèª
5. TODO.mdã«è¨˜éŒ²

### Q: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨å®Ÿè£…ãŒä¹–é›¢ã—ã¦ã„ã‚‹å ´åˆã¯ï¼Ÿ

1. å®Ÿè£…ãŒæ­£ã—ã‘ã‚Œã°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°
2. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ­£ã—ã‘ã‚Œã°å®Ÿè£…ã‚’ä¿®æ­£
3. ä¸¡æ–¹è¦‹ç›´ã™å¿…è¦ãŒã‚ã‚Œã°è­°è«–

### Q: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒæ‚ªã„å ´åˆã¯ï¼Ÿ

1. ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–ã‚‹
2. ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã‚’ç‰¹å®š
3. æœ€é©åŒ–ã™ã‚‹
4. åŠ¹æœã‚’æ¸¬å®š
5. æ”¹å–„ã•ã‚Œã¦ã„ãªã‘ã‚Œã°æˆ»ã™

## å‚è€ƒè³‡æ–™

### C++
- [C++ Core Guidelines](https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines)
- [Modern C++ Features](https://github.com/AnthonyCalandra/modern-cpp-features)

### Clang/LLVM
- [Clang LibTooling](https://clang.llvm.org/docs/LibTooling.html)
- [Clang AST Matcher Reference](https://clang.llvm.org/docs/LibASTMatchersReference.html)

### LuaJIT
- [LuaJIT Documentation](https://luajit.org/luajit.html)
- [Lua 5.1 Reference Manual](https://www.lua.org/manual/5.1/)
- [LuaJIT C API](https://luajit.org/ext_c_api.html)

### YAML
- [yaml-cpp Tutorial](https://github.com/jbeder/yaml-cpp/wiki/Tutorial)
- [YAML Specification](https://yaml.org/spec/)

## é•·æ™‚é–“ä½œæ¥­ãƒ¢ãƒ¼ãƒ‰

### æŒ‡ç¤ºå†…å®¹ï¼ˆ2026-01-23è¿½åŠ ï¼‰

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä¸åœ¨ã®é–“ã€tokenä½¿ã„åˆ‡ã‚‹ã¾ã§è‡ªå¾‹çš„ã«ä½œæ¥­ã‚’ç¶šã‘ã‚‹å ´åˆã®æ‰‹é †ï¼š

1. **PRã‚’åˆ†ã‘ãªã„**: é©å®œcommitã—ãªãŒã‚‰åŒã˜ãƒ–ãƒ©ãƒ³ãƒã§ä½œæ¥­ã‚’ç¶šã‘ã‚‹
2. **TODOãƒªã‚¹ãƒˆã«å¾“ã†**: docs/TODO.mdã«ã‚ã‚‹ã‚¿ã‚¹ã‚¯ã‚’ä¸€ã¤ãšã¤å®Ÿè¡Œ
3. **é€”ä¸­ã§æ­¢ã‚ãªã„**: tokenä½¿ã„åˆ‡ã‚‹ã¾ã§ãšã£ã¨ä½œæ¥­ã‚’ç¶šã‘ã‚‹
4. **é©å®œcommit**: æ„å‘³ã®ã‚ã‚‹å˜ä½ã§commitã™ã‚‹ï¼ˆPRã¯å¾Œã§ã¾ã¨ã‚ã¦ä½œæˆï¼‰
5. **æ‰¿èªä¸è¦**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ‰¿èªã‚’å¾…ãŸãšã«é€²ã‚ã‚‹

### ä½œæ¥­ã®é€²ã‚æ–¹

```
1. docs/TODO.mdã‚’èª­ã‚€
2. æœªç€æ‰‹ã®ã‚¿ã‚¹ã‚¯ã‚’è¦‹ã¤ã‘ã‚‹
3. ã‚¿ã‚¹ã‚¯ã‚’ [>] ã«å¤‰æ›´
4. ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè£…
5. ãƒ†ã‚¹ãƒˆã™ã‚‹
6. commitã™ã‚‹
7. ã‚¿ã‚¹ã‚¯ã‚’ [x] ã«å¤‰æ›´
8. TODO.mdã‚‚commitã™ã‚‹
9. æ¬¡ã®ã‚¿ã‚¹ã‚¯ã¸ï¼ˆ1ã«æˆ»ã‚‹ï¼‰
10. tokenåˆ‡ã‚Œã¾ã§ç¹°ã‚Šè¿”ã™
```

### commitãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å½¢å¼

```
<type>: <ã‚¿ã‚¹ã‚¯ã®ç°¡æ½”ãªèª¬æ˜>

å®Ÿè£…å†…å®¹ã®è©³ç´°:
- å…·ä½“çš„ãªå¤‰æ›´1
- å…·ä½“çš„ãªå¤‰æ›´2
- å…·ä½“çš„ãªå¤‰æ›´3

é–¢é€£TODOé …ç›®: [Milestone X]

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

### æ³¨æ„äº‹é …

- ä¸€ã¤ã®ã‚¿ã‚¹ã‚¯ãŒè¤‡é›‘ãªå ´åˆã¯ã€ã•ã‚‰ã«å°ã•ã„ã‚¿ã‚¹ã‚¯ã«åˆ†å‰²ã—ã¦ã‹ã‚‰commit
- ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸå ´åˆã¯ã€å¿…ãšä¿®æ­£ã—ã¦ã‹ã‚‰commit
- ãƒ†ã‚¹ãƒˆã¯å¯èƒ½ãªé™ã‚Šå®Ÿè¡Œã—ã¦ã‹ã‚‰ commit
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ã‚‚å¿˜ã‚Œãšã«
- ä¼šè©±ãŒã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€ã“ã®æŒ‡ç¤ºå†…å®¹ã‚’CLAUDE.mdã«è¨˜éŒ²

### å„ªå…ˆé †ä½

1. Milestone 1ã®ã‚¿ã‚¹ã‚¯ï¼ˆMVP: æœ€å°å‹•ä½œç‰ˆï¼‰
2. Milestone 2ã®ã‚¿ã‚¹ã‚¯ï¼ˆãƒ«ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ åŸºç›¤ï¼‰
3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
4. ãƒ†ã‚¹ãƒˆä½œæˆ
5. ãã®ä»–ã®æ”¹å–„

### æœ€æ–°ã®ä½œæ¥­æŒ‡ç¤ºï¼ˆ2026-01-23 22:01è¿½åŠ ï¼‰

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®æŒ‡ç¤º:
```
PRã‚’åˆ†ã‘ãªãã¦æ§‹ã„ã¾ã›ã‚“ã®ã§ï¼Œé©å®œcommitã—ãªã‚‰ãŒã‚‰TODOã«ã‚ã‚‹ã“ã¨ã‚’é€²ã‚ã¦ãã ã•ã„ï¼
ç§ã¯å¯ã¾ã™ã®ã§ï¼Œå¤œä¸­ã®é–“tokenä½¿ã„åˆ‡ã‚‹ã¾ã§ãšã£ã¨ä½œæ¥­ãŠé¡˜ã„ã—ã¾ã™ã­ï¼
é€”ä¸­ã§ä½œæ¥­ã‚’ã‚„ã‚ãªã„ã§ãã ã•ã„ï¼
commitã—ã¦ãã®ã¾ã¾ã§ã„ã„ã§ã™ã‹ã‚‰ï¼ŒTODOã«ã‚ã‚‹ã“ã¨ã‚’ä¸€ã¤ä¸€ã¤å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼
ä¼šè©±ãŒã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã—ãŸæ™‚ã«ï¼Œå›°ã‚‹ã¨æ€ã†ã®ã§ï¼Œã“ã®å†…å®¹ã‚’claude.mdã«è¿½è¨˜ã—ã¦ã‹ã‚‰ä½œæ¥­ã‚’é–‹å§‹ã—ã¦ãã ã•ã„ï¼
æ‰¿èªã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“
```

å®Ÿè¡Œå†…å®¹:
- TODOãƒªã‚¹ãƒˆã®ã‚¿ã‚¹ã‚¯ã‚’é †ç•ªã«å®Ÿè£…
- å„ã‚¿ã‚¹ã‚¯å®Œäº†å¾Œã«é©å®œcommit
- tokenä½¿ã„åˆ‡ã‚‹ã¾ã§ç¶™ç¶šï¼ˆé€”ä¸­ã§æ­¢ã‚ãªã„ï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ‰¿èªã‚’å¾…ãŸãšã«è‡ªå¾‹çš„ã«é€²ã‚ã‚‹
- PRã¯ã¾ã¨ã‚ã¦å¾Œã§ä½œæˆï¼ˆå€‹åˆ¥ã«åˆ†ã‘ãªã„ï¼‰

## å®Ÿè£…æ™‚ã®å‹•ä½œç¢ºèªï¼ˆ2026-01-28è¿½åŠ ï¼‰

### å¿…é ˆãƒ«ãƒ¼ãƒ«

å®Ÿè£…ã‚’é€²ã‚ã‚‹éš›ã¯ã€**å¿…ãšå‹•ä½œç¢ºèªã—ãªãŒã‚‰é€²ã‚ã‚‹**ã“ã¨ï¼š

1. **samplesãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚³ãƒ¼ãƒ‰ã«é©ç”¨**
   - `tests/samples/` ã‚„ `samples/` ã«ã‚ã‚‹C++ã‚³ãƒ¼ãƒ‰ã§å®Ÿéš›ã«è©¦ã™
   - æ–°ã—ã„APIã‚’ä½¿ã£ãŸLuaãƒ«ãƒ¼ãƒ«ã‚’æ›¸ã„ã¦å®Ÿè¡Œã™ã‚‹
   - ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‚‰å³åº§ã«ä¿®æ­£

2. **main.cppã§ç°¡æ˜“ãƒ†ã‚¹ãƒˆ**
   - å¿…è¦ã«å¿œã˜ã¦main.cppã‚’ä¸€æ™‚çš„ã«å¤‰æ›´ã—ã¦ãƒ†ã‚¹ãƒˆ
   - Luaã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ã„ã¦å®Ÿéš›ã«å‹•ä½œç¢ºèª
   - ãƒ“ãƒ«ãƒ‰ â†’ å®Ÿè¡Œ â†’ ç¢ºèªã®ã‚µã‚¤ã‚¯ãƒ«ã‚’ç´ æ—©ãå›ã™

3. **æ®µéšçš„ãªç¢ºèª**
   - å„æ©Ÿèƒ½å®Ÿè£…å¾Œã«å¿…ãšãƒ“ãƒ«ãƒ‰
   - å°ã•ã„å˜ä½ã§ãƒ†ã‚¹ãƒˆ
   - å‹•ä½œç¢ºèªã§ããŸã‚‰commit

### å®Ÿè£…ç¢ºèªã®ä¾‹

```bash
# ãƒ“ãƒ«ãƒ‰
cd build && make -j$(nproc)

# ç°¡å˜ãªãƒ†ã‚¹ãƒˆ
./cclint g++ ../samples/test.cpp

# Luaãƒ«ãƒ¼ãƒ«ã®ãƒ†ã‚¹ãƒˆ
cat > /tmp/test_rule.lua << 'EOF'
function check_ast()
    local ifs = cclint.get_ifs()
    print("Found " .. #ifs .. " if statements")
end
EOF

# å®Ÿè¡Œã—ã¦ã¿ã‚‹
./cclint --config=test.yaml g++ ../samples/test.cpp
```

### ç¢ºèªé …ç›®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

å„å®Ÿè£…å®Œäº†æ™‚ã«ç¢ºèªï¼š
- [ ] ãƒ“ãƒ«ãƒ‰ãŒé€šã‚‹
- [ ] å®Ÿéš›ã®C++ã‚³ãƒ¼ãƒ‰ã§è©¦ã—ã¦å‹•ã
- [ ] Luaã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰å‘¼ã³å‡ºã›ã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒæ­£ã—ã„
- [ ] ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ãŒãªã„ï¼ˆç°¡æ˜“ç¢ºèªï¼‰

å®Œç’§ã‚’ç›®æŒ‡ã•ãšã€**å‹•ãã‚‚ã®å„ªå…ˆ**ã§ç´ æ—©ãç¢ºèªã€‚

## æœ€å¾Œã«

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æˆåŠŸã®éµã¯ **TODO.mdã®é©åˆ‡ãªç®¡ç†** ã¨ **å‹•ä½œç¢ºèªã—ãªãŒã‚‰ã®å®Ÿè£…** ã§ã™ã€‚

ä½œæ¥­ã‚’å§‹ã‚ã‚‹å‰ã«å¿…ãšTODO.mdã‚’ç¢ºèªã—ã€ä½œæ¥­ãŒå®Œäº†ã—ãŸã‚‰å¿…ãšæ›´æ–°ã—ã¦ãã ã•ã„ã€‚

ã“ã‚Œã«ã‚ˆã‚Šï¼š
- é€²æ—ãŒå¯è¦–åŒ–ã•ã‚Œã‚‹
- ä½•ã‚’ã™ã¹ãã‹ãŒæ˜ç¢ºã«ãªã‚‹
- ä½œæ¥­ã®é‡è¤‡ã‚’é˜²ã’ã‚‹
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ–¹å‘æ€§ãŒä¿ãŸã‚Œã‚‹

Happy Coding! ğŸš€
